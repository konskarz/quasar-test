import{D as g,z as o,C as u,k as _,H as q,r as I,I as b,T as S}from"./index-67220a76.js";import{h as m,c as B}from"./use-dark-46c33416.js";const P=g({name:"QItemLabel",props:{overline:Boolean,caption:Boolean,header:Boolean,lines:[Number,String]},setup(e,{slots:n}){const t=o(()=>parseInt(e.lines,10)),i=o(()=>"q-item__label"+(e.overline===!0?" q-item__label--overline text-overline":"")+(e.caption===!0?" q-item__label--caption text-caption":"")+(e.header===!0?" q-item__label--header":"")+(t.value===1?" ellipsis":"")),r=o(()=>e.lines!==void 0&&t.value>1?{overflow:"hidden",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":t.value}:null);return()=>u("div",{style:r.value,class:i.value},m(n.default))}}),f={threshold:0,root:null,rootMargin:"0px"};function h(e,n,t){let i,r,a;typeof t=="function"?(i=t,r=f,a=n.cfg===void 0):(i=t.handler,r=Object.assign({},f,t.cfg),a=n.cfg===void 0||q(n.cfg,r)===!1),n.handler!==i&&(n.handler=i),a===!0&&(n.cfg=r,n.observer!==void 0&&n.observer.unobserve(e),n.observer=new IntersectionObserver(([s])=>{if(typeof n.handler=="function"){if(s.rootBounds===null&&document.body.contains(e)===!0){n.observer.unobserve(e),n.observer.observe(e);return}(n.handler(s,n.observer)===!1||n.once===!0&&s.isIntersecting===!0)&&y(e)}},r),n.observer.observe(e))}function y(e){const n=e.__qvisible;n!==void 0&&(n.observer!==void 0&&n.observer.unobserve(e),delete e.__qvisible)}const D=_({name:"intersection",mounted(e,{modifiers:n,value:t}){const i={once:n.once===!0};h(e,i,t),e.__qvisible=i},updated(e,n){const t=e.__qvisible;t!==void 0&&h(e,t,n.value)},beforeUnmount:y}),Q=g({name:"QIntersection",props:{tag:{type:String,default:"div"},once:Boolean,transition:String,transitionDuration:{type:[String,Number],default:300},ssrPrerender:Boolean,margin:String,threshold:[Number,Array],root:{default:null},disable:Boolean,onVisibility:Function},setup(e,{slots:n,emit:t}){const i=I(b.value===!0?e.ssrPrerender:!1),r=o(()=>e.root!==void 0||e.margin!==void 0||e.threshold!==void 0?{handler:v,cfg:{root:e.root,rootMargin:e.margin,threshold:e.threshold}}:v),a=o(()=>e.disable!==!0&&(b.value!==!0||e.once!==!0||e.ssrPrerender!==!0)),s=o(()=>[[D,r.value,void 0,{once:e.once}]]),d=o(()=>`--q-transition-duration: ${e.transitionDuration}ms`);function v(l){i.value!==l.isIntersecting&&(i.value=l.isIntersecting,e.onVisibility!==void 0&&t("visibility",i.value))}function c(){if(i.value===!0)return[u("div",{key:"content",style:d.value},m(n.default))];if(n.hidden!==void 0)return[u("div",{key:"hidden",style:d.value},n.hidden())]}return()=>{const l=e.transition?[u(S,{name:"q-transition--"+e.transition},c)]:c();return B(e.tag,{class:"q-intersection"},l,"main",a.value,()=>s.value)}}});export{Q,P as a};
